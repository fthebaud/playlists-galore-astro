---
import { getCollection } from "astro:content";
import PageLayout from "@src/layouts/PageLayout.astro";
import PlaylistCard from "@src/components/PlaylistCard.astro";

const allPlaylists = await getCollection("periodicalPlaylists");
---

<PageLayout pageTitle="Home Page">
  <!-- // COLLECTION STEP 3: Index collection entries -->
  <ul>
    {
      allPlaylists.map((entry) => (
        <PlaylistCard
          url={`/playlists/${entry.data.lastUpdate}/`}
          playlist={entry.data}
        />
      ))
    }
  </ul>
</PageLayout>

<style>
  ul {
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>
