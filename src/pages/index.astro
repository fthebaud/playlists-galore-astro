---
// import Welcome from '../components/Welcome.astro';
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

import BlogPost from "@src/components/BlogPost.astro";
const allPosts = await getCollection("articles");
const allPlaylists = await getCollection("playlists");
---

<Layout>
  <!-- <Welcome /> -->
  coucou

  <h1>Some awesome blog page</h1>

  <!-- // COLLECTION STEP 3: Index collection entries -->

  <ul>
    {
      allPosts.map((post: any) => (
        <BlogPost url={`/articles/${post.id}/`} title={post.data.title} />
      ))
    }
  </ul>
  {allPlaylists.map((pl) => <p>{pl.data.name}</p>)}
</Layout>
