---
import { getCollection } from "astro:content";
import PageLayout from "@src/layouts/PageLayout.astro";
import PlaylistLink from "@src/components/PlaylistLink/PlaylistLink.astro";

const allPlaylists = await getCollection("playlists");
---

<PageLayout pageTitle="Playlists Galore">
  <!-- // COLLECTION STEP 3: Index collection entries -->
  <ul>
    {
      allPlaylists.map((entry, index) => (
        <PlaylistLink
          url={`/playlists/${entry.data.pubDate}/`}
          playlist={entry.data}
          aboveTheFold={index < 10}
        />
      ))
    }
  </ul>
</PageLayout>

<style>
  ul {
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
  }
</style>
